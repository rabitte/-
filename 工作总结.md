

# 工作总结

****

恐是孙山朝升落、雏雁凯归草再升



## tomcat引用

Tomcat  --->tomcat是一个封装和实现了http传输协议的容器

tomcat除了实现了http协议以外， 
还针对javaweb项目做了很多业务优化，简单的说就是可以更好的管理java项目 
比如 
通过war包对工程jar包进行二次封装，区分公用lib文件和私有lib文件，多项目开发管理，JAVAWEB日志处理 
等等

CGI是外部应用程序（CGI程序）与WEB服务器之间的接口标准，是在CGI程序和Web服务器之间传递信息的过程

 既然socket可以返回响应，那就也可以向客户端返回一个服务器相应的数据包，并且将业务需要的超文本内容放到其中，然后传输完成一次关一次流实现无连接双工通信。那么我也能做到B/S交互websocket是可以实现即时通讯，高并发的消息服务的一种TCP协议。Websocket 是全双工通讯（说白了就是俩都可以通讯，服务器也可以给客户端发消息，客户端也能给服务器发消息）。也是基于TCP的，效率是很高的，首先这个技术的底层选用，就决定了完全可以用wb这个技术做高并发应用，而且开发非常快！！代码非常简单！！最重要的是稳定性，扩展性等等都有保证，

## Docker浅谈了解

参考：：https://blog.csdn.net/S_gy_Zetrov/article/details/78161154

Docker的英文意是“搬运工”，在程序员的世界里，Docker搬运的是集装箱（Container），集装箱里装的是任意类型的App，开发者通过Docker可以将App变成一种标准化的、可移植的、自管理的组件，可以在任何主流系统中开发、调试和运行。**最重要的是，它不依赖于任何语言、框架或系统**，

Docker 两个主要部件：	Docker: 开源的容器虚拟化平台	Docker Hub: 用于分享、管理 Docker 容器的 Docker SaaS 平台 --  Docker Hub  -->https://hub.docker.com/

内部构建

要理解 Docker 内部构建，需要理解以下三种部件：

Docker 镜像 - Docker images

类似虚拟机的镜像，用来创建Docker的容器，镜像是一个只读模板。	一个镜像可以包含一个完整的（ubuntu）操作系统环境里面仅安装Apache/Mysql或用户需要的其他应用程序。

Docker 容器 - Docker containers

类似轻量级的沙箱，容器是从镜像创建的应用实例，每个容器都是相互隔离的、保证安全的平台。	Docker利用容器（Container）来运行应用。

Docker 仓库 - Docker registeries

仓库（registeries）是集中存放镜像文件的场所。类似代码仓库。	仓库分为公开仓库（Public）和私用仓库（Private）两种形式。	最大的公开仓库是Docekr Hub，存放了数量庞大的镜像供用户下载。国内的公开仓库包括阿里云、时速云、网易云等，可以提供大陆用户更稳定快速的访问

## 在使用tp5模型的ORM的时候出现belongsTo和hasOne

都有表示一对一的关系，但是二者并不相同。以下举例说明两者的区别： 
首先有user表 字段 id name password字段 
然后有user_address表 id user_id city字段

在User模型中关联user_address表的时候使用hasOne，因为在user表中没有关联两个表的外键

在UserAddress模型中关联user表的时候使用belongsTo，因为在user_address表中有关联两个表的外键user_id

## JavaScript中操作Mysql数据库

使用js框架的ajax异步请求调取mysql中数据，而不是服务器调用数据库，获得数据，然后渲染数据，

效果可以  ，就是前端也能看到数据库密码，

## 遇到的问题错误

### 内存过大，文件执行超过30秒。

```php
Maximum execution time of 30 seconds exceeded
  //点击容器列表，文件内容太大，无法打开
  //简单总结一下解决办法：
报错一：内存超限，具体报错语句忘了，简单说一下解决办法。
利用循环分批导入；
每个循环内部开始处使用sleep(5);语句，做延迟执行，防止服务器内存同一时间占用过多，里面数字据情况修改；
每个循环内部结束地方使用 ob_flush();刷新输出缓冲
flush();将当前为止程序的所有输出发送到用户的浏览器
两者必须同时使用来刷新输出缓冲
报错二：30秒运行超时的错误（Maximum execution time of 30 seconds exceeded）
解决办法：
方法一，修改php.ini文件
max_execution_time = 30; Maximum execution time of each script, in seconds
把它设置成需要的值就可以了。如果设置成0的话，就是永不过期。
方法二，修改php执行文件
加上
<?
set_time_limit(0);
?>
max_execution_time = 30; Maximum execution time of each script, in seconds
把它设置成需要的值就可以了。如果设置成0的话，就是永不过期。
```



### no input file specified 解决方法

关于tp框架的验证码出不来   缺少pulic下的captche.html文件时  如果配置文件都没错，且文件未出现丢失，修改。则参考如下方法

```php
请修改php.ini

找到

; cgi.force_redirect = 1

去掉前面分号，把后面的1改为0

即

cgi.force_redirect = 0

(二)apacheNo input file specified

apache No input filespecified,今天是我们配置apache RewriteRule时出现这种问题，解决办法很简单如下

打开.htaccess 在RewriteRule 后面的index.php教程后面添加一个“?”

完整代码如下

.htaccess

RewriteEngine on

RewriteCond $1 !^(index.php|images|robots.txt)

RewriteRule ^(.*)$ /index.php?/$1 [L]

如果是apache服务器出问题，看看是不是的Apache 把 .php 后缀的文件解析哪里有问题了。

总结

Apache 将哪些后缀作为 PHP 解析。例如，让 Apache 把 .php 后缀的文件解析为PHP。可以将任何后缀的文件解析为 PHP，只要在以下语句中加入并用空格分开。这里以添加一个 .phtml 来示例。

AddType application/x-httpd-php .php .phtml

为了将 .phps教程作为 PHP 的源文件进行语法高亮显示，还可以加上：

AddType application/x-httpd-php-source .phps

用通常的过程启动 Apache(必须完全停止 Apache 再重新启动，而不是用 HUP 或者USR1 信号使 Apache 重新加载)。

(三)nginx配置遭遇No inputfile specified

虚拟机测试nginx 遭遇 Noinput file specified，多方查找终于找到解决办法

1、 php.ini(/etc/php5/cgi/php.ini)的配置中这两项

cgi.fix_pathinfo=1 (这个是自己添加的)

doc_root=

2、nginx配置文件/etc/nginx/sites-available/default中注意以下部分

location ~ .php$ {

fastcgi_pass 127.0.0.1:9000;

fastcgi_index index.php;

fastcgi_param SCRIPT_FILENAME /var/www/nginx-default$fastcgi_script_name;

include fastcgi_params;

}

上面的部分路径需要根据你主机主目录的实际情况填写

配置完以上部分，重启一下service nginx restart，应该没问题了

(四)注意检查下网站目录是否有相关用户的写入权限
```



### 验证码出不来，

下图的解决方法如下：：打开.htaccess 在RewriteRule 后面的index.php教程后面添加一个“?”

![c87f365d48cd8de9eb6bb5cf3936934](C:\Users\admin\Desktop\c87f365d48cd8de9eb6bb5cf3936934.png)

php常用的要记数组函数

sizeof()函数

```PHP
<?php
$cars=array("Volvo","BMW","Toyota");
echo sizeof($cars);
?>
sizeof($cars)=3;
```

